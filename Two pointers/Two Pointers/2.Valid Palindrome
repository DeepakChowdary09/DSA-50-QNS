// 1) Question (Battle Map)
// Given a string s, determine if it is a palindrome after ignoring
// all non-alphanumeric characters and ignoring case.
// Must run in O(n) time and O(1) space.

// 2) Time & Space Complexity
// Time:  O(n)
// Space: O(1)

// 4) Learnings
// - Use two pointers (i and j).
// - Skip non-alphanumeric characters.
// - Convert both characters to lowercase.
// - Compare s.charAt(i) and s.charAt(j) directly.
// - Return false immediately on mismatch.

// 5) Mistakes to Avoid
// - Never use s[i] in Java (use charAt).
// - Don’t compare characters with a string list.
// - Don’t return early after one match.
// - Don’t forget to skip non-alphanumeric chars.
// - Ensure proper pointer movement.



// -------------------
//      CODE
// -------------------

public boolean isPalindrome(String s) {
    int i = 0;
    int j = s.length() - 1;

    while (i < j) {

        // move left pointer until alphanumeric
        while (i < j && !Character.isLetterOrDigit(s.charAt(i))) {
            i++;
        }

        // move right pointer until alphanumeric
        while (i < j && !Character.isLetterOrDigit(s.charAt(j))) {
            j--;
        }

        // compare lowercase characters
        if (Character.toLowerCase(s.charAt(i)) != Character.toLowerCase(s.charAt(j))) {
            return false;
        }

        i++;
        j--;
    }

    return true;
}
